@startuml
title 声でTODOを管理するアプリ - 通知機能 クラス図

' ====== クラス定義 ======

class 利用者 {
  +userId: int
  +name: String
  +通知設定: boolean
  +タスク一覧を確認()
  +完了操作()
}

class 通知管理コントローラ {
  +通知開始()
  +通知再送()
  +音声再生()
  +履歴保存()
  -通信確認()
}

class 通知スケジュール {
  +scheduleId: int
  +通知日時: DateTime
  +タスクID: int
  +音声ファイルID: int
  +スケジュール登録()
  +スケジュール取得()
}

class タスク {
  +taskId: int
  +タイトル: String
  +内容: String
  +完了フラグ: boolean
  +完了する()
}

class ボイスレター {
  +voiceId: int
  +filePath: String
  +再生する()
}

class 通知履歴 {
  +historyId: int
  +再生日時: DateTime
  +結果: String
  +保存する()
}

class 音声プレイヤー {
  +音声再生(filePath: String)
  +再生停止()
}

class ネットワークモジュール {
  +通信確認(): boolean
  +再送試行()
}

' ====== 関係 ======

利用者 "1" --> "多" タスク : 管理
通知管理コントローラ --> 通知スケジュール : 参照
通知管理コントローラ --> 通知履歴 : 保存
通知管理コントローラ --> ボイスレター : 再生要求
通知管理コントローラ --> ネットワークモジュール : 通信確認
通知管理コントローラ --> 音声プレイヤー : 再生制御
通知スケジュール --> タスク : 紐づく
通知スケジュール --> ボイスレター : 紐づく

@enduml
